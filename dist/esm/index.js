import*as t from"react";import{Cross2Icon as e}from"@radix-ui/react-icons";import*as r from"@radix-ui/react-toast";import{cva as a}from"class-variance-authority";import{cn as o}from"@wds-utils/cn";var s=function(){return s=Object.assign||function(t){for(var e,r=1,a=arguments.length;r<a;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},s.apply(this,arguments)};function n(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(r[a[o]]=t[a[o]])}return r}function i(t,e,r){if(r||2===arguments.length)for(var a,o=0,s=e.length;o<s;o++)!a&&o in e||(a||(a=Array.prototype.slice.call(e,0,o)),a[o]=e[o]);return t.concat(a||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError;var c=r.Provider,u=t.forwardRef((function(e,a){var i=e.className,c=n(e,["className"]);return t.createElement(r.Viewport,s({ref:a,className:o("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",i)},c))}));u.displayName=r.Viewport.displayName;var d=a("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),l=t.forwardRef((function(e,a){var i=e.className,c=e.variant,u=n(e,["className","variant"]);return t.createElement(r.Root,s({ref:a,className:o(d({variant:c}),i)},u))}));l.displayName=r.Root.displayName;var f=t.forwardRef((function(e,a){var i=e.className,c=n(e,["className"]);return t.createElement(r.Action,s({ref:a,className:o("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",i)},c))}));f.displayName=r.Action.displayName;var p=t.forwardRef((function(a,i){var c=a.className,u=n(a,["className"]);return t.createElement(r.Close,s({ref:i,className:o("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",c),"toast-close":""},u),t.createElement(e,{className:"h-4 w-4"}))}));p.displayName=r.Close.displayName;var m=t.forwardRef((function(e,a){var i=e.className,c=n(e,["className"]);return t.createElement(r.Title,s({ref:a,className:o("text-sm font-semibold [&+div]:text-xs",i)},c))}));m.displayName=r.Title.displayName;var v=t.forwardRef((function(e,a){var i=e.className,c=n(e,["className"]);return t.createElement(r.Description,s({ref:a,className:o("text-sm opacity-90",i)},c))}));v.displayName=r.Description.displayName;var y=0;var g=new Map,x=function(t){if(!g.has(t)){var e=setTimeout((function(){g.delete(t),w({type:"REMOVE_TOAST",toastId:t})}),1e6);g.set(t,e)}},N=function(t,e){switch(e.type){case"ADD_TOAST":return s(s({},t),{toasts:i([e.toast],t.toasts,!0).slice(0,1)});case"UPDATE_TOAST":return s(s({},t),{toasts:t.toasts.map((function(t){return t.id===e.toast.id?s(s({},t),e.toast):t}))});case"DISMISS_TOAST":var r=e.toastId;return r?x(r):t.toasts.forEach((function(t){x(t.id)})),s(s({},t),{toasts:t.toasts.map((function(t){return t.id===r||void 0===r?s(s({},t),{open:!1}):t}))});case"REMOVE_TOAST":return void 0===e.toastId?s(s({},t),{toasts:[]}):s(s({},t),{toasts:t.toasts.filter((function(t){return t.id!==e.toastId}))})}},h=[],b={toasts:[]};function w(t){b=N(b,t),h.forEach((function(t){t(b)}))}function E(t){var e=n(t,[]),r=(y=(y+1)%Number.MAX_VALUE).toString(),a=function(){return w({type:"DISMISS_TOAST",toastId:r})};return w({type:"ADD_TOAST",toast:s(s({},e),{id:r,open:!0,onOpenChange:function(t){t||a()}})}),{id:r,dismiss:a,update:function(t){return w({type:"UPDATE_TOAST",toast:s(s({},t),{id:r})})}}}function O(){var e=t.useState(b),r=e[0],a=e[1];return t.useEffect((function(){return h.push(a),function(){var t=h.indexOf(a);t>-1&&h.splice(t,1)}}),[r]),s(s({},r),{toast:E,dismiss:function(t){return w({type:"DISMISS_TOAST",toastId:t})}})}function S(){var e=O().toasts;return t.createElement(c,null,e.map((function(e){var r=e.id,a=e.title,o=e.description,i=e.action,c=n(e,["id","title","description","action"]);return t.createElement(l,s({key:r},c),t.createElement("div",{className:"grid gap-1"},a&&t.createElement(m,null,a),o&&t.createElement(v,null,o)),i,t.createElement(p,null))})),t.createElement(u,null))}export{l as Toast,f as ToastAction,p as ToastClose,v as ToastDescription,c as ToastProvider,m as ToastTitle,u as ToastViewport,S as Toaster,N as reducer,E as toast,O as useToast};
//# sourceMappingURL=index.js.map
